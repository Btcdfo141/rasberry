GLOB sdist-make: /Users/jdevelvis/Development/home-assistant/setup.py
py34 create: /Users/jdevelvis/Development/home-assistant/.tox/py34
ERROR: InterpreterNotFound: python3.4
py35 create: /Users/jdevelvis/Development/home-assistant/.tox/py35
ERROR: InterpreterNotFound: python3.5
py36 inst-nodeps: /Users/jdevelvis/Development/home-assistant/.tox/dist/homeassistant-0.39.0.dev0.zip
py36 installed: aiohttp==1.3.1,aiohttp-cors==0.5.0,alabaster==0.7.9,amcrest==1.1.4,anel-pwrctrl==0.0.1,anthemav==1.1.8,apcaccess==0.0.4,apns2==0.1.1,appdirs==1.4.0,argcomplete==1.8.2,astral==1.3.4,astroid==1.4.9,async-timeout==1.1.0,asyncio==3.4.3,asynctest==0.10.0,attrs==16.3.0,Automat==0.5.0,Babel==2.3.4,batinfo==0.4.2,beautifulsoup4==4.5.3,bitstring==3.1.5,BlinkStick==1.1.8,blockchain==1.3.3,boto3==1.4.3,botocore==1.4.93,braviarc==0.3.6,broadlink==0.3,bs4==0.0.1,certifi==2017.1.23,cffi==1.9.1,chardet==2.3.0,click==6.7,coinmarketcap==2.0.1,colorlog==2.10.0,concord232==0.14,constantly==15.1.0,construct==2.8.10,cookies==2.2.1,coverage==4.3.4,coveralls==1.1,crcmod==1.7,cryptography==1.7.2,denonavr==0.3.1,directpy==0.1,discord.py==0.16.0,distro==1.0.2,dlipower==0.7.165,dnspython==1.15.0,dnspython3==1.15.0,docopt==0.6.2,docutils==0.13.1,dovado==0.1.15,dsmr-parser==0.6,dweepy==0.2.0,ecdsa==0.13,eliqonline==1.0.13,enocean==0.31,enum-compat==0.0.2,enum34==1.1.6,evohomeclient==0.2.5,fastdotcom==0.0.1,fedexdeliverymanager==1.0.1,feedparser==5.2.1,fitbit==0.2.3,fixerio==0.1.1,flake8==3.2.1,flake8-docstrings==1.0.2,Flask==0.12,flux-led==0.13,freesms==0.1.1,fritzhome==1.0.2,future==0.16.0,fuzzywuzzy==0.14.0,gitdb==0.6.4,GitPython==0.3.6,gntp==1.0.3,google-api-python-client==1.6.2,googlemaps==2.4.4,gps3==0.33.3,gstreamer-player==1.0.0,gTTS-token==1.1.1,h2==2.5.2,ha-ffmpeg==1.4,ha-philipsjs==0.0.1,hbmqtt==0.8,heatmiserV3==0.9.1,hikvision==0.4,homeassistant==0.39.0.dev0,hpack==2.3.0,httmock==1.2.6,http-ece==0.5.0,httplib2==0.10.3,hyper==0.7.0,hyperframe==3.2.0,idna==2.2,imagesize==0.7.1,incremental==16.10.1,inflection==0.3.1,influxdb==3.0.0,insteon-hub==0.4.5,insteonlocal==0.39,intelhex==2.1,isort==4.2.5,itsdangerous==0.24,Jinja2==2.9.5,jmespath==0.9.1,jsonrpc-async==0.2,jsonrpc-base==0.1,jsonrpc-requests==0.3,keyring==9.3.1,keyrings.alt==1.3,knxip==0.3.3,lazy-object-proxy==1.2.2,libnacl==1.5.0,libsoundtouch==0.1.0,liffylights==0.9.4,lightify==1.0.4,limitlessled==1.0.4,liveboxplaytv==1.4.7,lnetatmo==0.9.1,lxml==3.7.1,MarkupSafe==0.23,matrix-client==0.0.5,mccabe==0.5.3,messagebird==1.2.0,mficlient==0.3.0,miflora==0.1.15,mock-open==1.3.1,multidict==2.1.4,mutagen==1.36.2,mypy-lang==0.4.5,myusps==1.0.3,nad-receiver==0.0.3,netaddr==0.7.19,netdisco==0.8.2,netifaces==0.10.5,neurio==0.3.1,numpy==1.12.0,oauth2client==4.0.0,oauthlib==2.0.1,oemthermostat==1.1,olefile==0.44,onkyo-eiscp==0.9.2,openevsewifi==0.4,orvibo==1.1.1,packaging==16.8,paho-mqtt==1.2,panasonic-viera==0.2,passlib==1.7.1,pbr==1.10.0,pdunehd==1.3,pexpect==4.0.1,phue==0.9,piglow==1.2.4,pilight==0.1.1,Pillow==4.0.0,PlexAPI==2.0.2,ply==3.10,pmsensor==0.3,powerviewApi==0.3.15,prettytable==0.7.2,proliphix==0.4.1,protobuf==3.2.0,psutil==5.1.3,ptyprocess==0.5.1,pubnub==4.0.5,pubnubsub-handler==1.0.1,pushbullet.py==0.10.0,pushetta==1.0.15,pwaqi==2.0,py==1.4.32,py-cpuinfo==0.2.3,pyalarmdotcom==0.0.7,pyasn1==0.2.2,pyasn1-modules==0.0.8,pyatv==0.1.4,pybbox==0.0.5a0,pybotvac==0.0.1,pyCEC==0.4.13,PyChromecast==0.8.0,pycmus==0.1.0,pycodestyle==2.2.0,pycparser==2.17,PyCRC==1.21,pycrypto==2.6.1,pycryptodome==3.4.5,pycryptodomex==3.4.3,PyDispatcher==2.0.5,pydocstyle==1.1.1,pyebox==0.1.0,pyedimax==0.1,pyelliptic==1.5.7,pyEmby==0.2,pyenvisalink==2.0,pyfido==0.1.4,pyflakes==1.3.0,pyflic==0.4,pyfttt==0.3,pygatt==3.0.0,Pygments==2.2.0,pygtfs==0.1.3,pyharmony==1.0.12,pyHik==0.0.7,pyhomematic==0.1.22,pyHS100==0.2.3,pyhydroquebec==0.1.1,pyicloud==0.9.1,pyiss==1.0.1,PyISY==1.0.7,pyitachip2ir==0.0.5,PyJWT==1.4.2,pylast==1.8.0,pylgnetcast==0.2.0,pylgtv==0.1.3,pylint==1.6.4,pylitejet==0.1.0,pyloopenergy==0.0.16,pylutron==0.1.0,pymailgun==1.3,PyMata==2.13,pymochad==0.1.1,pymodbus==1.2.0,pymyq==0.0.5,pymysensors==0.8,pynetgear==0.3.3,pynetio==0.1.6,pynuki==1.2.2,pynut2==2.1.2,pynx584==0.4,pyowm==2.6.1,pyparsing==2.1.10,pypi-publisher==0.0.4,pyqwikswitch==0.4,pyRFXtrx==0.17.0,pyserial==3.1.1,pyserial-asyncio==0.3,pysma==0.1.3,pysmi==0.0.7,pysnmp==4.3.3,PySocks==1.6.6,pytest==3.0.6,pytest-aiohttp==0.1.3,pytest-asyncio==0.5.0,pytest-catchlog==1.2.2,pytest-cov==2.4.0,pytest-sugar==0.8.0,pytest-timeout==1.2.0,pythinkingcleaner==0.0.2,python-clementine-remote==1.0.1,python-dateutil==2.6.0,python-digitalocean==1.10.1,python-ecobee==0.0.6,python-forecastio==1.3.5,python-hpilo==3.9,python-http-client==2.2.1,python-join-api==0.0.1,python-jose==1.3.2,python-Levenshtein==0.12.0,python-magic==0.4.12,python-mpd2==0.5.5,python-mystrom==0.3.6,python-nest==3.1.0,python-nmap==0.6.1,python-pushover==0.2,python-sabnzbd==0.1,python-synology==0.1.0,python-telegram-bot==5.3.0,python-twitch==1.3.0,python-vlc==1.1.2,python-wink==1.1.1,pytrackr==0.0.5,pytz==2016.10,pyunifi==1.3,pyusb==1.0.0b1,pyvera==0.2.23,pyW215==0.4,pywebpush==0.6.1,pywemo==0.4.12,PyYAML==3.12,pyzabbix==0.7.4,qnapstats==0.2.2,radiotherm==1.2,requests==2.13.0,requests-mock==1.3.0,requests-oauthlib==0.8.0,responses==0.5.1,rflink==0.0.28,roku==3.1.3,rsa==3.4.2,russound==0.1.7,rxv==0.4.0,s3transfer==0.1.10,samsungctl==0.6.0,schiene==0.18,scsgate==0.1.0,selenium==3.0.2,sendgrid==3.6.3,sense-hat==2.2.0,sharp-aquos-rc==0.3.2,simplejson==3.10.0,simplisafe-python==0.0.1,six==1.10.0,slacker==0.9.40,sleekxmpp==1.3.1,sleepyq==0.6,smmap==0.9.0,sn3218==1.2.6,snapcast==1.2.2,snowballstemmer==1.2.1,socketIO-client==0.5.6,soco==0.12,somecomfort==0.4.1,speedtest-cli==1.0.2,Sphinx==1.5.2,sphinx-automodapi==0.2,sphinx-rtd-theme==0.1.9,sphinxcontrib-httpdomain==1.5.0,SQLAlchemy==1.1.5,statsd==3.2.1,steamodd==4.21,stevedore==1.20.0,tabulate==0.7.7,tellcore-py==1.1.2,tellduslive==0.3.2,temperusb==1.5.1,termcolor==1.1.0,thingspeak==0.4.1,tikteck==0.4,transitions==0.2.5,transmissionrpc==0.11,twilio==5.7.0,Twisted==17.1.0,TwitterAPI==2.4.4,typing==3.5.3.0,tzlocal==1.3,uber-rides==0.2.7,upsmychoice==1.0.1,uritemplate==3.0.0,urllib3==1.20,uvcclient==0.10.0,VarEvents==1.0.0,voluptuous==0.9.3,volvooncall==0.1.1,vsure==0.11.1,vtjp==0.1.14,wakeonlan==0.2.2,websocket-client==0.37.0,websockets==3.2,Werkzeug==0.11.15,wikipedia==1.4.0,wrapt==1.10.8,XBee==2.2.3,xbee-helper==0.0.7,xboxapi==0.1.1,xmltodict==0.10.2,yahoo-finance==1.4.0,yahooweather==0.8,yarl==0.9.8,yeelight==0.2.2,zengge==0.2,zeroconf==0.18.0,zope.interface==4.3.3
py36 runtests: PYTHONHASHSEED='3175051681'
py36 runtests: commands[0] | py.test --timeout=30 --duration=10 --cov --cov-report=
============================= test session starts ==============================
platform darwin -- Python 3.6.0, pytest-3.0.6, py-1.4.32, pluggy-0.4.0
rootdir: /Users/jdevelvis/Development/home-assistant, inifile: setup.cfg
plugins: timeout-1.2.0, sugar-0.8.0, cov-2.4.0, catchlog-1.2.2, asyncio-0.5.0, aiohttp-0.1.3
timeout: 30.0s method: signal
collected 1800 items

tests/test_bootstrap.py ................
tests/test_config.py .............................
tests/test_core.py ...................................................
tests/test_loader.py ....
tests/test_main.py .
tests/test_remote.py ...................
tests/components/test_alert.py ..........
tests/components/test_alexa.py ...........
tests/components/test_api.py ......................
tests/components/test_apiai.py ........
tests/components/test_configurator.py .......
tests/components/test_conversation.py ......
tests/components/test_demo.py ...
tests/components/test_device_sun_light_trigger.py ...
tests/components/test_ffmpeg.py ...........
tests/components/test_frontend.py ....
tests/components/test_google.py ...
tests/components/test_graphite.py ..............
tests/components/test_group.py .........................
tests/components/test_history.py ................
tests/components/test_influxdb.py ............
tests/components/test_init.py ............
tests/components/test_input_boolean.py ...
tests/components/test_input_select.py ......
tests/components/test_input_slider.py ..
tests/components/test_introduction.py .
tests/components/test_litejet.py ...
tests/components/test_logbook.py ......................
tests/components/test_logentries.py ...
tests/components/test_logger.py ..
tests/components/test_microsoft_face.py ..........
tests/components/test_mqtt_eventstream.py .......
tests/components/test_panel_custom.py ..
tests/components/test_panel_iframe.py ..
tests/components/test_persistent_notification.py ...
tests/components/test_pilight.py ..............
tests/components/test_proximity.py ................
tests/components/test_rest_command.py .............
tests/components/test_rflink.py .....
tests/components/test_rfxtrx.py sssss
tests/components/test_script.py ....
tests/components/test_shell_command.py ......
tests/components/test_sleepiq.py ....
tests/components/test_splunk.py ...
tests/components/test_statsd.py .....
tests/components/test_sun.py ....
tests/components/test_updater.py ......
tests/components/test_weblink.py ..
tests/components/test_websocket_api.py .............
tests/components/test_zone.py .....
tests/components/alarm_control_panel/test_manual.py ...........
tests/components/alarm_control_panel/test_mqtt.py ..........
tests/components/automation/test_event.py ...
tests/components/automation/test_init.py ................
tests/components/automation/test_litejet.py ........
tests/components/automation/test_mqtt.py ...
tests/components/automation/test_numeric_state.py ......................
tests/components/automation/test_state.py ..................
tests/components/automation/test_sun.py ..........
tests/components/automation/test_template.py ................
tests/components/automation/test_time.py ..............
tests/components/automation/test_zone.py .....
tests/components/binary_sensor/test_aurora.py ..
tests/components/binary_sensor/test_binary_sensor.py .
tests/components/binary_sensor/test_command_line.py ....
tests/components/binary_sensor/test_ffmpeg.py ....
tests/components/binary_sensor/test_mqtt.py ...
tests/components/binary_sensor/test_nx584.py ............
tests/components/binary_sensor/test_sleepiq.py .
tests/components/binary_sensor/test_tcp.py .....
tests/components/binary_sensor/test_template.py ........
tests/components/binary_sensor/test_threshold.py ..
tests/components/binary_sensor/test_trend.py ...........
tests/components/calendar/test_google.py ..s...
tests/components/camera/test_generic.py ..
tests/components/camera/test_init.py .....
tests/components/camera/test_local_file.py ..
tests/components/camera/test_uvc.py ................
tests/components/climate/test_demo.py ........................
tests/components/climate/test_generic_thermostat.py .............................
tests/components/climate/test_honeywell.py ......................
tests/components/config/test_core.py .
tests/components/config/test_hassbian.py ....
tests/components/config/test_init.py ...
tests/components/config/test_zwave.py ..
tests/components/cover/test_command_line.py ...
tests/components/cover/test_demo.py ........
tests/components/cover/test_mqtt.py .......
tests/components/cover/test_rfxtrx.py ssssssssss
tests/components/device_tracker/test_asuswrt.py ......
tests/components/device_tracker/test_automatic.py ..
tests/components/device_tracker/test_bt_home_hub_5.py .
tests/components/device_tracker/test_ddwrt.py .........
tests/components/device_tracker/test_init.py ............................
tests/components/device_tracker/test_locative.py ....
tests/components/device_tracker/test_mqtt.py ..
tests/components/device_tracker/test_owntracks.py .........................s.....
tests/components/device_tracker/test_tplink.py .
tests/components/device_tracker/test_unifi.py ........
tests/components/device_tracker/test_upc_connect.py ........
tests/components/device_tracker/test_xiaomi.py .....
tests/components/emulated_hue/test_hue_api.py ..........
tests/components/emulated_hue/test_init.py ...
tests/components/emulated_hue/test_upnp.py ...
tests/components/fan/test_demo.py ......
tests/components/http/test_auth.py .........
tests/components/http/test_ban.py ...
tests/components/http/test_init.py ......
tests/components/image_processing/test_init.py .........
tests/components/image_processing/test_microsoft_face_detect.py ...
tests/components/image_processing/test_microsoft_face_identify.py ...
tests/components/image_processing/test_openalpr_cloud.py .......
tests/components/image_processing/test_openalpr_local.py ....
tests/components/light/test_demo.py ..
tests/components/light/test_init.py ....
tests/components/light/test_litejet.py ....
tests/components/light/test_mqtt.py ........
tests/components/light/test_mqtt_json.py .......
tests/components/light/test_mqtt_template.py .......
tests/components/light/test_rflink.py ......
tests/components/light/test_rfxtrx.py ssssssss
tests/components/lock/test_demo.py ...
tests/components/lock/test_mqtt.py ...
tests/components/media_player/test_async_helpers.py ....
tests/components/media_player/test_cast.py .
tests/components/media_player/test_cmus.py .
tests/components/media_player/test_demo.py ........
tests/components/media_player/test_sonos.py .............
tests/components/media_player/test_soundtouch.py .........................
tests/components/media_player/test_universal.py ............................
tests/components/media_player/test_yamaha.py .
tests/components/mqtt/test_discovery.py .....
tests/components/mqtt/test_init.py ........................
tests/components/mqtt/test_server.py ..
tests/components/notify/test_apns.py ............
tests/components/notify/test_command_line.py ....
tests/components/notify/test_demo.py ...........
tests/components/notify/test_file.py ...
tests/components/notify/test_group.py .
tests/components/notify/test_html5.py ..........
tests/components/notify/test_smtp.py ..
tests/components/recorder/test_init.py ..................
tests/components/recorder/test_models.py ....
tests/components/remote/test_demo.py ..
tests/components/remote/test_init.py .....
tests/components/scene/test_init.py ..
tests/components/scene/test_litejet.py .
tests/components/sensor/test_api_streams.py ..
tests/components/sensor/test_command_line.py ....
tests/components/sensor/test_darksky.py ....
tests/components/sensor/test_dsmr.py .....
tests/components/sensor/test_history_stats.py ........
tests/components/sensor/test_imap_email_content.py .......
tests/components/sensor/test_mfi.py .FF.F............
tests/components/sensor/test_min_max.py .......
tests/components/sensor/test_moldindicator.py ....
tests/components/sensor/test_moon.py ..
tests/components/sensor/test_mqtt.py ..
tests/components/sensor/test_mqtt_room.py .
tests/components/sensor/test_pilight.py ...
tests/components/sensor/test_random.py .
tests/components/sensor/test_rest.py ...............
tests/components/sensor/test_rflink.py ..
tests/components/sensor/test_rfxtrx.py ssssssss
tests/components/sensor/test_sleepiq.py .
tests/components/sensor/test_sonarr.py ......s.s.
tests/components/sensor/test_statistics.py ...
tests/components/sensor/test_tcp.py .......................
tests/components/sensor/test_template.py ........
tests/components/sensor/test_worldclock.py .
tests/components/sensor/test_wsdot.py ..
tests/components/sensor/test_wunderground.py ..
tests/components/sensor/test_yahoo_finance.py .
tests/components/sensor/test_yr.py ..
tests/components/switch/test_command_line.py ......
tests/components/switch/test_flux.py ..............
tests/components/switch/test_init.py ..
tests/components/switch/test_litejet.py .....
tests/components/switch/test_mfi.py .FF.F..........
tests/components/switch/test_mochad.py ....
tests/components/switch/test_mqtt.py ...
tests/components/switch/test_rest.py ..................
tests/components/switch/test_rflink.py .
tests/components/switch/test_rfxtrx.py ssssssssssss
tests/components/switch/test_template.py ............
tests/components/tts/test_google.py .......
tests/components/tts/test_init.py ....................
tests/components/tts/test_voicerss.py ........
tests/components/tts/test_yandextts.py ...........
tests/components/weather/test_weather.py ..
tests/components/zwave/test_init.py .
tests/helpers/test_aiohttp_client.py .......
tests/helpers/test_condition.py .....
tests/helpers/test_config_validation.py .................................
tests/helpers/test_discovery.py ....
tests/helpers/test_entity.py ........
tests/helpers/test_entity_component.py ..................
tests/helpers/test_entity_values.py .......
tests/helpers/test_event.py ............
tests/helpers/test_event_decorators.py ....
tests/helpers/test_init.py ..
tests/helpers/test_location.py .....
tests/helpers/test_script.py ...............
tests/helpers/test_service.py .......
tests/helpers/test_state.py ...............
tests/helpers/test_template.py ..................................................
tests/scripts/test_check_config.py .....
tests/scripts/test_init.py .
tests/util/test_async.py .......
tests/util/test_color.py ................
tests/util/test_distance.py .......
tests/util/test_dt.py ................
tests/util/test_init.py ............
tests/util/test_location.py ............
tests/util/test_package.py ........
tests/util/test_unit_system.py ............
tests/util/test_yaml.py .........................



========================== slowest 10 test durations ===========================
30.01s call     tests/components/sensor/test_mfi.py::TestMfiSensorSetup::test_setup_failed_connect
30.01s call     tests/components/sensor/test_mfi.py::TestMfiSensorSetup::test_setup_missing_config
30.00s call     tests/components/switch/test_mfi.py::TestMfiSwitchSetup::test_setup_failed_connect
30.00s call     tests/components/switch/test_mfi.py::TestMfiSwitchSetup::test_setup_failed_login
30.00s call     tests/components/sensor/test_mfi.py::TestMfiSensorSetup::test_setup_failed_login
30.00s call     tests/components/switch/test_mfi.py::TestMfiSwitchSetup::test_setup_missing_config
0.55s call     tests/components/test_demo.py::TestDemo::test_all_entities_can_be_loaded_over_json
0.55s call     tests/components/notify/test_apns.py::TestApns::test_disable_when_unregistered
0.46s call     tests/components/notify/test_html5.py::TestHtml5Notify::test_sending_message
0.45s call     tests/scripts/test_check_config.py::TestCheckConfig::test_component_platform_not_found
=================================== FAILURES ===================================
_________________ TestMfiSensorSetup.test_setup_failed_connect _________________

self = <tests.components.sensor.test_mfi.TestMfiSensorSetup testMethod=test_setup_failed_connect>
mock_client = <MagicMock name='client' id='4485468288'>

    @mock.patch('mficlient.client')
    def test_setup_failed_connect(self, mock_client):
        """Test setup with conection failure."""
        mock_client.FailedToLogin = Exception()
        mock_client.MFiClient.side_effect = requests.exceptions.ConnectionError
        self.assertFalse(
            self.PLATFORM.setup_platform(
>               self.hass, dict(self.GOOD_CONFIG), None))

tests/components/sensor/test_mfi.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
homeassistant/components/sensor/mfi.py:66: in setup_platform
    use_tls=use_tls, verify=verify_tls)
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:142: in __init__
    self._login()
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:145: in _login
    response = self._session.get(self._baseurl, verify=self._verify)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:501: in get
    return self.request('GET', url, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:488: in request
    resp = self.send(prep, **send_kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:609: in send
    r = adapter.send(request, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/adapters.py:423: in send
    timeout=timeout
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:600: in urlopen
    chunked=chunked)
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:356: in _make_request
    conn.request(method, url, **httplib_request_kw)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1239: in request
    self._send_request(method, url, body, headers, encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1285: in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1234: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1026: in _send_output
    self.send(msg)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:964: in send
    self.connect()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:166: in connect
    conn = self._new_conn()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:141: in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

address = ('none', 6080), timeout = None, source_address = None
socket_options = [(6, 1, 1)]

    def create_connection(address, timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
                          source_address=None, socket_options=None):
        """Connect to *address* and return the socket object.
    
        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        An host of '' or port 0 tells the OS to use the default.
        """
    
        host, port = address
        if host.startswith('['):
            host = host.strip('[]')
        err = None
    
        # Using the value from allowed_gai_family() in the context of getaddrinfo lets
        # us select whether to work with IPv4 DNS records, IPv6 records, or both.
        # The original create_connection function always returns all records.
        family = allowed_gai_family()
    
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
            af, socktype, proto, canonname, sa = res
            sock = None
            try:
                sock = socket.socket(af, socktype, proto)
    
                # If provided, set socket level options before connecting.
                _set_socket_options(sock, socket_options)
    
                if timeout is not socket._GLOBAL_DEFAULT_TIMEOUT:
                    sock.settimeout(timeout)
                if source_address:
                    sock.bind(source_address)
>               sock.connect(sa)
E               Failed: Timeout >30.0s

.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/util/connection.py:73: Failed
------------------------------ Captured log setup ------------------------------
selector_events.py          65 DEBUG    Using selector: KqueueSelector
----------------------------- Captured stderr call -----------------------------

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++

~~~~~~~~~~~~~~~~~~~~ Stack of LoopThread (123145558704128) ~~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jdevelvis/Development/home-assistant/tests/common.py", line 55, in run_loop
    loop.run_forever()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10bb3a518>_0 (123145553448960) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_4 (123145639141376) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_3 (123145612865536) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_2 (123145602355200) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_1 (123145597100032) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_0 (123145591844864) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

~~~~~~~~~~~~~~~~~~~~ Stack of SlaveThread (123145579724800) ~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_9 (123145548193792) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_8 (123145542938624) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_7 (123145537683456) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_6 (123145532428288) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_5 (123145527173120) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_4 (123145521917952) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_3 (123145516662784) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_2 (123145511407616) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_1 (123145506152448) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_0 (123145500897280) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
---------------------------- Captured log teardown -----------------------------
core.py                    401 INFO     Bus:Handling <Event homeassistant_stop[L]>
core.py                    401 INFO     Bus:Handling <Event homeassistant_close[L]>
__________________ TestMfiSensorSetup.test_setup_failed_login __________________

self = <tests.components.sensor.test_mfi.TestMfiSensorSetup testMethod=test_setup_failed_login>
mock_client = <MagicMock name='client' id='4494537616'>

    @mock.patch('mficlient.client')
    def test_setup_failed_login(self, mock_client):
        """Test setup with login failure."""
        mock_client.FailedToLogin = Exception()
        mock_client.MFiClient.side_effect = mock_client.FailedToLogin
        self.assertFalse(
            self.PLATFORM.setup_platform(
>               self.hass, dict(self.GOOD_CONFIG), None))

tests/components/sensor/test_mfi.py:57: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
homeassistant/components/sensor/mfi.py:66: in setup_platform
    use_tls=use_tls, verify=verify_tls)
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:142: in __init__
    self._login()
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:145: in _login
    response = self._session.get(self._baseurl, verify=self._verify)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:501: in get
    return self.request('GET', url, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:488: in request
    resp = self.send(prep, **send_kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:609: in send
    r = adapter.send(request, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/adapters.py:423: in send
    timeout=timeout
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:600: in urlopen
    chunked=chunked)
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:356: in _make_request
    conn.request(method, url, **httplib_request_kw)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1239: in request
    self._send_request(method, url, body, headers, encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1285: in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1234: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1026: in _send_output
    self.send(msg)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:964: in send
    self.connect()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:166: in connect
    conn = self._new_conn()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:141: in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

address = ('none', 6080), timeout = None, source_address = None
socket_options = [(6, 1, 1)]

    def create_connection(address, timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
                          source_address=None, socket_options=None):
        """Connect to *address* and return the socket object.
    
        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        An host of '' or port 0 tells the OS to use the default.
        """
    
        host, port = address
        if host.startswith('['):
            host = host.strip('[]')
        err = None
    
        # Using the value from allowed_gai_family() in the context of getaddrinfo lets
        # us select whether to work with IPv4 DNS records, IPv6 records, or both.
        # The original create_connection function always returns all records.
        family = allowed_gai_family()
    
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
            af, socktype, proto, canonname, sa = res
            sock = None
            try:
                sock = socket.socket(af, socktype, proto)
    
                # If provided, set socket level options before connecting.
                _set_socket_options(sock, socket_options)
    
                if timeout is not socket._GLOBAL_DEFAULT_TIMEOUT:
                    sock.settimeout(timeout)
                if source_address:
                    sock.bind(source_address)
>               sock.connect(sa)
E               Failed: Timeout >30.0s

.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/util/connection.py:73: Failed
------------------------------ Captured log setup ------------------------------
selector_events.py          65 DEBUG    Using selector: KqueueSelector
----------------------------- Captured stderr call -----------------------------

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++

~~~~~~~~~~~~~~~~~~~~ Stack of LoopThread (123145558704128) ~~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jdevelvis/Development/home-assistant/tests/common.py", line 55, in run_loop
    loop.run_forever()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10be53da0>_0 (123145553448960) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_4 (123145639141376) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_3 (123145612865536) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_2 (123145602355200) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_1 (123145597100032) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_0 (123145591844864) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

~~~~~~~~~~~~~~~~~~~~ Stack of SlaveThread (123145579724800) ~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_9 (123145548193792) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_8 (123145542938624) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_7 (123145537683456) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_6 (123145532428288) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_5 (123145527173120) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_4 (123145521917952) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_3 (123145516662784) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_2 (123145511407616) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_1 (123145506152448) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_0 (123145500897280) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
---------------------------- Captured log teardown -----------------------------
core.py                    401 INFO     Bus:Handling <Event homeassistant_stop[L]>
core.py                    401 INFO     Bus:Handling <Event homeassistant_close[L]>
_________________ TestMfiSensorSetup.test_setup_missing_config _________________

self = <tests.components.sensor.test_mfi.TestMfiSensorSetup testMethod=test_setup_missing_config>

    def test_setup_missing_config(self):
        """Test setup with missing configuration."""
        config = {
            'sensor': {
                'platform': 'mfi',
            }
        }
>       self.assertFalse(self.PLATFORM.setup_platform(self.hass, config, None))

tests/components/sensor/test_mfi.py:48: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
homeassistant/components/sensor/mfi.py:66: in setup_platform
    use_tls=use_tls, verify=verify_tls)
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:142: in __init__
    self._login()
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:145: in _login
    response = self._session.get(self._baseurl, verify=self._verify)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:501: in get
    return self.request('GET', url, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:488: in request
    resp = self.send(prep, **send_kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:609: in send
    r = adapter.send(request, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/adapters.py:423: in send
    timeout=timeout
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:600: in urlopen
    chunked=chunked)
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:356: in _make_request
    conn.request(method, url, **httplib_request_kw)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1239: in request
    self._send_request(method, url, body, headers, encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1285: in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1234: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1026: in _send_output
    self.send(msg)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:964: in send
    self.connect()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:166: in connect
    conn = self._new_conn()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:141: in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

address = ('none', 6080), timeout = None, source_address = None
socket_options = [(6, 1, 1)]

    def create_connection(address, timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
                          source_address=None, socket_options=None):
        """Connect to *address* and return the socket object.
    
        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        An host of '' or port 0 tells the OS to use the default.
        """
    
        host, port = address
        if host.startswith('['):
            host = host.strip('[]')
        err = None
    
        # Using the value from allowed_gai_family() in the context of getaddrinfo lets
        # us select whether to work with IPv4 DNS records, IPv6 records, or both.
        # The original create_connection function always returns all records.
        family = allowed_gai_family()
    
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
            af, socktype, proto, canonname, sa = res
            sock = None
            try:
                sock = socket.socket(af, socktype, proto)
    
                # If provided, set socket level options before connecting.
                _set_socket_options(sock, socket_options)
    
                if timeout is not socket._GLOBAL_DEFAULT_TIMEOUT:
                    sock.settimeout(timeout)
                if source_address:
                    sock.bind(source_address)
>               sock.connect(sa)
E               Failed: Timeout >30.0s

.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/util/connection.py:73: Failed
------------------------------ Captured log setup ------------------------------
selector_events.py          65 DEBUG    Using selector: KqueueSelector
----------------------------- Captured stderr call -----------------------------

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++

~~~~~~~~~~~~~~~~~~~~ Stack of LoopThread (123145558704128) ~~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jdevelvis/Development/home-assistant/tests/common.py", line 55, in run_loop
    loop.run_forever()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10be5ce48>_0 (123145553448960) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_4 (123145639141376) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_3 (123145612865536) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_2 (123145602355200) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_1 (123145597100032) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_0 (123145591844864) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

~~~~~~~~~~~~~~~~~~~~ Stack of SlaveThread (123145579724800) ~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_9 (123145548193792) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_8 (123145542938624) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_7 (123145537683456) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_6 (123145532428288) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_5 (123145527173120) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_4 (123145521917952) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_3 (123145516662784) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_2 (123145511407616) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_1 (123145506152448) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_0 (123145500897280) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
---------------------------- Captured log teardown -----------------------------
core.py                    401 INFO     Bus:Handling <Event homeassistant_stop[L]>
core.py                    401 INFO     Bus:Handling <Event homeassistant_close[L]>
_________________ TestMfiSwitchSetup.test_setup_failed_connect _________________

self = <tests.components.switch.test_mfi.TestMfiSwitchSetup testMethod=test_setup_failed_connect>
mock_client = <MagicMock name='client' id='4499731624'>

    @mock.patch('mficlient.client')
    def test_setup_failed_connect(self, mock_client):
        """Test setup with conection failure."""
        mock_client.FailedToLogin = Exception()
        mock_client.MFiClient.side_effect = requests.exceptions.ConnectionError
        self.assertFalse(
            self.PLATFORM.setup_platform(
>               self.hass, dict(self.GOOD_CONFIG), None))

tests/components/sensor/test_mfi.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
homeassistant/components/switch/mfi.py:57: in setup_platform
    use_tls=use_tls, verify=verify_tls)
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:142: in __init__
    self._login()
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:145: in _login
    response = self._session.get(self._baseurl, verify=self._verify)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:501: in get
    return self.request('GET', url, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:488: in request
    resp = self.send(prep, **send_kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:609: in send
    r = adapter.send(request, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/adapters.py:423: in send
    timeout=timeout
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:600: in urlopen
    chunked=chunked)
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:356: in _make_request
    conn.request(method, url, **httplib_request_kw)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1239: in request
    self._send_request(method, url, body, headers, encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1285: in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1234: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1026: in _send_output
    self.send(msg)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:964: in send
    self.connect()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:166: in connect
    conn = self._new_conn()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:141: in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

address = ('none', 6080), timeout = None, source_address = None
socket_options = [(6, 1, 1)]

    def create_connection(address, timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
                          source_address=None, socket_options=None):
        """Connect to *address* and return the socket object.
    
        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        An host of '' or port 0 tells the OS to use the default.
        """
    
        host, port = address
        if host.startswith('['):
            host = host.strip('[]')
        err = None
    
        # Using the value from allowed_gai_family() in the context of getaddrinfo lets
        # us select whether to work with IPv4 DNS records, IPv6 records, or both.
        # The original create_connection function always returns all records.
        family = allowed_gai_family()
    
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
            af, socktype, proto, canonname, sa = res
            sock = None
            try:
                sock = socket.socket(af, socktype, proto)
    
                # If provided, set socket level options before connecting.
                _set_socket_options(sock, socket_options)
    
                if timeout is not socket._GLOBAL_DEFAULT_TIMEOUT:
                    sock.settimeout(timeout)
                if source_address:
                    sock.bind(source_address)
>               sock.connect(sa)
E               Failed: Timeout >30.0s

.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/util/connection.py:73: Failed
------------------------------ Captured log setup ------------------------------
selector_events.py          65 DEBUG    Using selector: KqueueSelector
----------------------------- Captured stderr call -----------------------------

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++

~~~~~~~~~~~~~~~~~~~~ Stack of LoopThread (123145558704128) ~~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jdevelvis/Development/home-assistant/tests/common.py", line 55, in run_loop
    loop.run_forever()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10c33dbe0>_0 (123145553448960) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_4 (123145639141376) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_3 (123145612865536) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_2 (123145602355200) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_1 (123145597100032) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_0 (123145591844864) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

~~~~~~~~~~~~~~~~~~~~ Stack of SlaveThread (123145579724800) ~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_9 (123145548193792) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_8 (123145542938624) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_7 (123145537683456) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_6 (123145532428288) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_5 (123145527173120) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_4 (123145521917952) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_3 (123145516662784) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_2 (123145511407616) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_1 (123145506152448) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_0 (123145500897280) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
---------------------------- Captured log teardown -----------------------------
core.py                    401 INFO     Bus:Handling <Event homeassistant_stop[L]>
core.py                    401 INFO     Bus:Handling <Event homeassistant_close[L]>
__________________ TestMfiSwitchSetup.test_setup_failed_login __________________

self = <tests.components.switch.test_mfi.TestMfiSwitchSetup testMethod=test_setup_failed_login>
mock_client = <MagicMock name='client' id='4502546808'>

    @mock.patch('mficlient.client')
    def test_setup_failed_login(self, mock_client):
        """Test setup with login failure."""
        mock_client.FailedToLogin = Exception()
        mock_client.MFiClient.side_effect = mock_client.FailedToLogin
        self.assertFalse(
            self.PLATFORM.setup_platform(
>               self.hass, dict(self.GOOD_CONFIG), None))

tests/components/sensor/test_mfi.py:57: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
homeassistant/components/switch/mfi.py:57: in setup_platform
    use_tls=use_tls, verify=verify_tls)
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:142: in __init__
    self._login()
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:145: in _login
    response = self._session.get(self._baseurl, verify=self._verify)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:501: in get
    return self.request('GET', url, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:488: in request
    resp = self.send(prep, **send_kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:609: in send
    r = adapter.send(request, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/adapters.py:423: in send
    timeout=timeout
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:600: in urlopen
    chunked=chunked)
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:356: in _make_request
    conn.request(method, url, **httplib_request_kw)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1239: in request
    self._send_request(method, url, body, headers, encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1285: in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1234: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1026: in _send_output
    self.send(msg)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:964: in send
    self.connect()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:166: in connect
    conn = self._new_conn()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:141: in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

address = ('none', 6080), timeout = None, source_address = None
socket_options = [(6, 1, 1)]

    def create_connection(address, timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
                          source_address=None, socket_options=None):
        """Connect to *address* and return the socket object.
    
        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        An host of '' or port 0 tells the OS to use the default.
        """
    
        host, port = address
        if host.startswith('['):
            host = host.strip('[]')
        err = None
    
        # Using the value from allowed_gai_family() in the context of getaddrinfo lets
        # us select whether to work with IPv4 DNS records, IPv6 records, or both.
        # The original create_connection function always returns all records.
        family = allowed_gai_family()
    
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
            af, socktype, proto, canonname, sa = res
            sock = None
            try:
                sock = socket.socket(af, socktype, proto)
    
                # If provided, set socket level options before connecting.
                _set_socket_options(sock, socket_options)
    
                if timeout is not socket._GLOBAL_DEFAULT_TIMEOUT:
                    sock.settimeout(timeout)
                if source_address:
                    sock.bind(source_address)
>               sock.connect(sa)
E               Failed: Timeout >30.0s

.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/util/connection.py:73: Failed
------------------------------ Captured log setup ------------------------------
selector_events.py          65 DEBUG    Using selector: KqueueSelector
----------------------------- Captured stderr call -----------------------------

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++

~~~~~~~~~~~~~~~~~~~~ Stack of LoopThread (123145558704128) ~~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jdevelvis/Development/home-assistant/tests/common.py", line 55, in run_loop
    loop.run_forever()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10c5f6630>_0 (123145553448960) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_4 (123145639141376) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_3 (123145612865536) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_2 (123145602355200) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_1 (123145597100032) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_0 (123145591844864) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

~~~~~~~~~~~~~~~~~~~~ Stack of SlaveThread (123145579724800) ~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_9 (123145548193792) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_8 (123145542938624) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_7 (123145537683456) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_6 (123145532428288) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_5 (123145527173120) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_4 (123145521917952) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_3 (123145516662784) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_2 (123145511407616) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_1 (123145506152448) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_0 (123145500897280) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
---------------------------- Captured log teardown -----------------------------
core.py                    401 INFO     Bus:Handling <Event homeassistant_stop[L]>
core.py                    401 INFO     Bus:Handling <Event homeassistant_close[L]>
_________________ TestMfiSwitchSetup.test_setup_missing_config _________________

self = <tests.components.switch.test_mfi.TestMfiSwitchSetup testMethod=test_setup_missing_config>

    def test_setup_missing_config(self):
        """Test setup with missing configuration."""
        config = {
            'sensor': {
                'platform': 'mfi',
            }
        }
>       self.assertFalse(self.PLATFORM.setup_platform(self.hass, config, None))

tests/components/sensor/test_mfi.py:48: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
homeassistant/components/switch/mfi.py:57: in setup_platform
    use_tls=use_tls, verify=verify_tls)
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:142: in __init__
    self._login()
.tox/py36/lib/python3.6/site-packages/mficlient/client.py:145: in _login
    response = self._session.get(self._baseurl, verify=self._verify)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:501: in get
    return self.request('GET', url, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:488: in request
    resp = self.send(prep, **send_kwargs)
.tox/py36/lib/python3.6/site-packages/requests/sessions.py:609: in send
    r = adapter.send(request, **kwargs)
.tox/py36/lib/python3.6/site-packages/requests/adapters.py:423: in send
    timeout=timeout
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:600: in urlopen
    chunked=chunked)
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connectionpool.py:356: in _make_request
    conn.request(method, url, **httplib_request_kw)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1239: in request
    self._send_request(method, url, body, headers, encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1285: in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1234: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:1026: in _send_output
    self.send(msg)
/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py:964: in send
    self.connect()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:166: in connect
    conn = self._new_conn()
.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/connection.py:141: in _new_conn
    (self.host, self.port), self.timeout, **extra_kw)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

address = ('none', 6080), timeout = None, source_address = None
socket_options = [(6, 1, 1)]

    def create_connection(address, timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
                          source_address=None, socket_options=None):
        """Connect to *address* and return the socket object.
    
        Convenience function.  Connect to *address* (a 2-tuple ``(host,
        port)``) and return the socket object.  Passing the optional
        *timeout* parameter will set the timeout on the socket instance
        before attempting to connect.  If no *timeout* is supplied, the
        global default timeout setting returned by :func:`getdefaulttimeout`
        is used.  If *source_address* is set it must be a tuple of (host, port)
        for the socket to bind as a source address before making the connection.
        An host of '' or port 0 tells the OS to use the default.
        """
    
        host, port = address
        if host.startswith('['):
            host = host.strip('[]')
        err = None
    
        # Using the value from allowed_gai_family() in the context of getaddrinfo lets
        # us select whether to work with IPv4 DNS records, IPv6 records, or both.
        # The original create_connection function always returns all records.
        family = allowed_gai_family()
    
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
            af, socktype, proto, canonname, sa = res
            sock = None
            try:
                sock = socket.socket(af, socktype, proto)
    
                # If provided, set socket level options before connecting.
                _set_socket_options(sock, socket_options)
    
                if timeout is not socket._GLOBAL_DEFAULT_TIMEOUT:
                    sock.settimeout(timeout)
                if source_address:
                    sock.bind(source_address)
>               sock.connect(sa)
E               Failed: Timeout >30.0s

.tox/py36/lib/python3.6/site-packages/requests/packages/urllib3/util/connection.py:73: Failed
------------------------------ Captured log setup ------------------------------
selector_events.py          65 DEBUG    Using selector: KqueueSelector
----------------------------- Captured stderr call -----------------------------

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++

~~~~~~~~~~~~~~~~~~~~ Stack of LoopThread (123145558704128) ~~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jdevelvis/Development/home-assistant/tests/common.py", line 55, in run_loop
    loop.run_forever()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10c167a58>_0 (123145553448960) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_4 (123145639141376) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_3 (123145612865536) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_2 (123145602355200) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_1 (123145597100032) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x10807a048>_0 (123145591844864) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

~~~~~~~~~~~~~~~~~~~~ Stack of SlaveThread (123145579724800) ~~~~~~~~~~~~~~~~~~~~
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 421, in run_forever
    self._run_once()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/base_events.py", line 1389, in _run_once
    event_list = self._selector.select(timeout)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py", line 577, in select
    kev_list = self._kqueue.control(None, max_ev, timeout)

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_9 (123145548193792) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_8 (123145542938624) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_7 (123145537683456) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_6 (123145532428288) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_5 (123145527173120) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_4 (123145521917952) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_3 (123145516662784) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_2 (123145511407616) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_1 (123145506152448) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

 Stack of <concurrent.futures.thread.ThreadPoolExecutor object at 0x105786d30>_0 (123145500897280) 
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 884, in _bootstrap
    self._bootstrap_inner()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py", line 64, in _worker
    work_item = work_queue.get(block=True)
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/queue.py", line 164, in get
    self.not_empty.wait()
  File "/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()

+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
---------------------------- Captured log teardown -----------------------------
core.py                    401 INFO     Bus:Handling <Event homeassistant_stop[L]>
core.py                    401 INFO     Bus:Handling <Event homeassistant_close[L]>
============= 6 failed, 1747 passed, 47 skipped in 253.29 seconds ==============
ERROR: InvocationError: '/Users/jdevelvis/Development/home-assistant/.tox/py36/bin/py.test --timeout=30 --duration=10 --cov --cov-report='
lint inst-nodeps: /Users/jdevelvis/Development/home-assistant/.tox/dist/homeassistant-0.39.0.dev0.zip
lint installed: aiohttp==1.3.1,aiohttp-cors==0.5.0,alabaster==0.7.9,amcrest==1.1.4,anel-pwrctrl==0.0.1,anthemav==1.1.8,apcaccess==0.0.4,apns2==0.1.1,appdirs==1.4.0,argcomplete==1.8.2,astral==1.3.4,astroid==1.4.9,async-timeout==1.1.0,asyncio==3.4.3,asynctest==0.10.0,attrs==16.3.0,Automat==0.5.0,Babel==2.3.4,batinfo==0.4.2,beautifulsoup4==4.5.3,bitstring==3.1.5,BlinkStick==1.1.8,blockchain==1.3.3,boto3==1.4.3,botocore==1.4.93,braviarc==0.3.6,broadlink==0.3,bs4==0.0.1,certifi==2017.1.23,cffi==1.9.1,chardet==2.3.0,click==6.7,coinmarketcap==2.0.1,colorlog==2.10.0,concord232==0.14,constantly==15.1.0,construct==2.8.10,cookies==2.2.1,coverage==4.3.4,coveralls==1.1,crcmod==1.7,cryptography==1.7.2,denonavr==0.3.1,directpy==0.1,discord.py==0.16.0,distro==1.0.2,dlipower==0.7.165,dnspython==1.15.0,dnspython3==1.15.0,docopt==0.6.2,docutils==0.13.1,dovado==0.1.15,dsmr-parser==0.6,dweepy==0.2.0,ecdsa==0.13,eliqonline==1.0.13,enocean==0.31,enum-compat==0.0.2,enum34==1.1.6,evohomeclient==0.2.5,fastdotcom==0.0.1,fedexdeliverymanager==1.0.1,feedparser==5.2.1,fitbit==0.2.3,fixerio==0.1.1,flake8==3.2.1,flake8-docstrings==1.0.2,Flask==0.12,flux-led==0.13,freesms==0.1.1,fritzhome==1.0.2,future==0.16.0,fuzzywuzzy==0.14.0,gitdb==0.6.4,GitPython==0.3.6,gntp==1.0.3,google-api-python-client==1.6.2,googlemaps==2.4.4,gps3==0.33.3,gstreamer-player==1.0.0,gTTS-token==1.1.1,h2==2.5.2,ha-ffmpeg==1.4,ha-philipsjs==0.0.1,hbmqtt==0.8,heatmiserV3==0.9.1,hikvision==0.4,homeassistant==0.39.0.dev0,hpack==2.3.0,httmock==1.2.6,http-ece==0.5.0,httplib2==0.10.3,hyper==0.7.0,hyperframe==3.2.0,idna==2.2,imagesize==0.7.1,incremental==16.10.1,inflection==0.3.1,influxdb==3.0.0,insteon-hub==0.4.5,insteonlocal==0.39,intelhex==2.1,isort==4.2.5,itsdangerous==0.24,Jinja2==2.9.5,jmespath==0.9.1,jsonrpc-async==0.2,jsonrpc-base==0.1,jsonrpc-requests==0.3,keyring==9.3.1,keyrings.alt==1.3,knxip==0.3.3,lazy-object-proxy==1.2.2,libnacl==1.5.0,libsoundtouch==0.1.0,liffylights==0.9.4,lightify==1.0.4,limitlessled==1.0.4,liveboxplaytv==1.4.7,lnetatmo==0.9.1,lxml==3.7.1,MarkupSafe==0.23,matrix-client==0.0.5,mccabe==0.5.3,messagebird==1.2.0,mficlient==0.3.0,miflora==0.1.15,mock-open==1.3.1,multidict==2.1.4,mutagen==1.36.2,mypy-lang==0.4.5,myusps==1.0.3,nad-receiver==0.0.3,netaddr==0.7.19,netdisco==0.8.2,netifaces==0.10.5,neurio==0.3.1,numpy==1.12.0,oauth2client==4.0.0,oauthlib==2.0.1,oemthermostat==1.1,olefile==0.44,onkyo-eiscp==0.9.2,openevsewifi==0.4,orvibo==1.1.1,packaging==16.8,paho-mqtt==1.2,panasonic-viera==0.2,passlib==1.7.1,pbr==1.10.0,pdunehd==1.3,pexpect==4.0.1,phue==0.9,piglow==1.2.4,pilight==0.1.1,Pillow==4.0.0,PlexAPI==2.0.2,ply==3.10,pmsensor==0.3,powerviewApi==0.3.15,prettytable==0.7.2,proliphix==0.4.1,protobuf==3.2.0,psutil==5.1.3,ptyprocess==0.5.1,pubnub==4.0.5,pubnubsub-handler==1.0.1,pushbullet.py==0.10.0,pushetta==1.0.15,pwaqi==2.0,py==1.4.32,py-cpuinfo==0.2.3,pyalarmdotcom==0.0.7,pyasn1==0.2.2,pyasn1-modules==0.0.8,pyatv==0.1.4,pybbox==0.0.5a0,pybotvac==0.0.1,pyCEC==0.4.13,PyChromecast==0.8.0,pycmus==0.1.0,pycodestyle==2.2.0,pycparser==2.17,PyCRC==1.21,pycrypto==2.6.1,pycryptodome==3.4.5,pycryptodomex==3.4.3,PyDispatcher==2.0.5,pydocstyle==1.1.1,pyebox==0.1.0,pyedimax==0.1,pyelliptic==1.5.7,pyEmby==0.2,pyenvisalink==2.0,pyfido==0.1.4,pyflakes==1.3.0,pyflic==0.4,pyfttt==0.3,pygatt==3.0.0,Pygments==2.2.0,pygtfs==0.1.3,pyharmony==1.0.12,pyHik==0.0.7,pyhomematic==0.1.22,pyHS100==0.2.3,pyhydroquebec==0.1.1,pyicloud==0.9.1,pyiss==1.0.1,PyISY==1.0.7,pyitachip2ir==0.0.5,PyJWT==1.4.2,pylast==1.8.0,pylgnetcast==0.2.0,pylgtv==0.1.3,pylint==1.6.4,pylitejet==0.1.0,pyloopenergy==0.0.16,pylutron==0.1.0,pymailgun==1.3,PyMata==2.13,pymochad==0.1.1,pymodbus==1.2.0,pymyq==0.0.5,pymysensors==0.8,pynetgear==0.3.3,pynetio==0.1.6,pynuki==1.2.2,pynut2==2.1.2,pynx584==0.4,pyowm==2.6.1,pyparsing==2.1.10,pypi-publisher==0.0.4,pyqwikswitch==0.4,pyRFXtrx==0.17.0,pyserial==3.1.1,pyserial-asyncio==0.3,pysma==0.1.3,pysmi==0.0.7,pysnmp==4.3.3,PySocks==1.6.6,pytest==3.0.6,pytest-aiohttp==0.1.3,pytest-asyncio==0.5.0,pytest-catchlog==1.2.2,pytest-cov==2.4.0,pytest-sugar==0.8.0,pytest-timeout==1.2.0,pythinkingcleaner==0.0.2,python-clementine-remote==1.0.1,python-dateutil==2.6.0,python-digitalocean==1.10.1,python-ecobee==0.0.6,python-forecastio==1.3.5,python-hpilo==3.9,python-http-client==2.2.1,python-join-api==0.0.1,python-jose==1.3.2,python-Levenshtein==0.12.0,python-magic==0.4.12,python-mpd2==0.5.5,python-mystrom==0.3.6,python-nest==3.1.0,python-nmap==0.6.1,python-pushover==0.2,python-sabnzbd==0.1,python-synology==0.1.0,python-telegram-bot==5.3.0,python-twitch==1.3.0,python-vlc==1.1.2,python-wink==1.1.1,pytrackr==0.0.5,pytz==2016.10,pyunifi==1.3,pyusb==1.0.0b1,pyvera==0.2.23,pyW215==0.4,pywebpush==0.6.1,pywemo==0.4.12,PyYAML==3.12,pyzabbix==0.7.4,qnapstats==0.2.2,radiotherm==1.2,requests==2.13.0,requests-mock==1.3.0,requests-oauthlib==0.8.0,responses==0.5.1,rflink==0.0.28,roku==3.1.3,rsa==3.4.2,russound==0.1.7,rxv==0.4.0,s3transfer==0.1.10,samsungctl==0.6.0,schiene==0.18,scsgate==0.1.0,selenium==3.0.2,sendgrid==3.6.3,sense-hat==2.2.0,sharp-aquos-rc==0.3.2,simplejson==3.10.0,simplisafe-python==0.0.1,six==1.10.0,slacker==0.9.40,sleekxmpp==1.3.1,sleepyq==0.6,smmap==0.9.0,sn3218==1.2.6,snapcast==1.2.2,snowballstemmer==1.2.1,socketIO-client==0.5.6,soco==0.12,somecomfort==0.4.1,speedtest-cli==1.0.2,Sphinx==1.5.2,sphinx-automodapi==0.2,sphinx-rtd-theme==0.1.9,sphinxcontrib-httpdomain==1.5.0,SQLAlchemy==1.1.5,statsd==3.2.1,steamodd==4.21,stevedore==1.20.0,tabulate==0.7.7,tellcore-py==1.1.2,tellduslive==0.3.2,temperusb==1.5.1,termcolor==1.1.0,thingspeak==0.4.1,tikteck==0.4,transitions==0.2.5,transmissionrpc==0.11,twilio==5.7.0,Twisted==17.1.0,TwitterAPI==2.4.4,typing==3.5.3.0,tzlocal==1.3,uber-rides==0.2.7,upsmychoice==1.0.1,uritemplate==3.0.0,urllib3==1.20,uvcclient==0.10.0,VarEvents==1.0.0,voluptuous==0.9.3,volvooncall==0.1.1,vsure==0.11.1,vtjp==0.1.14,wakeonlan==0.2.2,websocket-client==0.37.0,websockets==3.2,Werkzeug==0.11.15,wikipedia==1.4.0,wrapt==1.10.8,XBee==2.2.3,xbee-helper==0.0.7,xboxapi==0.1.1,xmltodict==0.10.2,yahoo-finance==1.4.0,yahooweather==0.8,yarl==0.9.8,yeelight==0.2.2,zengge==0.2,zeroconf==0.18.0,zope.interface==4.3.3
lint runtests: PYTHONHASHSEED='3175051681'
lint runtests: commands[0] | flake8
./homeassistant/components/history.py:209:51: E231 missing whitespace after ','
./homeassistant/components/history.py:209:80: E501 line too long (95 > 79 characters)
./homeassistant/components/history.py:222:80: E501 line too long (91 > 79 characters)
./homeassistant/components/history.py:229:80: E501 line too long (89 > 79 characters)
./homeassistant/components/history.py:247:80: E501 line too long (94 > 79 characters)
ERROR: InvocationError: '/Users/jdevelvis/Development/home-assistant/.tox/lint/bin/flake8'
lint runtests: commands[1] | pylint homeassistant
Traceback (most recent call last):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/bin/pylint", line 11, in <module>
    sys.exit(run_pylint())
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/__init__.py", line 13, in run_pylint
    Run(sys.argv[1:])
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/lint.py", line 1310, in __init__
    linter.check(args)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/lint.py", line 732, in check
    self._do_check(files_or_modules)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/lint.py", line 863, in _do_check
    self.check_astroid_module(ast_node, walker, rawcheckers, tokencheckers)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/lint.py", line 944, in check_astroid_module
    walker.walk(ast_node)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/utils.py", line 944, in walk
    self.walk(child)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/utils.py", line 944, in walk
    self.walk(child)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/utils.py", line 944, in walk
    self.walk(child)
  [Previous line repeated 2 more times]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/utils.py", line 941, in walk
    cb(astroid)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/checkers/typecheck.py", line 941, in visit_yieldfrom
    self._check_iterable(node.value)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/checkers/typecheck.py", line 914, in _check_iterable
    infered = safe_infer(node)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/pylint/checkers/utils.py", line 739, in safe_infer
    next(inferit)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 325, in raise_if_nothing_inferred
    for node in func(*args, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 100, in infer_call
    for callee in self.func.infer(context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 325, in raise_if_nothing_inferred
    for node in func(*args, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 156, in infer_attribute
    for owner in self.expr.infer(context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 99, in _infer_stmts
    for inferred in stmt.infer(context=context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 99, in _infer_stmts
    for inferred in stmt.infer(context=context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 325, in raise_if_nothing_inferred
    for node in func(*args, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 106, in infer_call
    for inferred in callee.infer_call_result(self, callcontext):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/scoped_nodes.py", line 970, in infer_call_result
    for inferred in returnnode.value.infer(context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 99, in _infer_stmts
    for inferred in stmt.infer(context=context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 99, in _infer_stmts
    for inferred in stmt.infer(context=context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 325, in raise_if_nothing_inferred
    for node in func(*args, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 100, in infer_call
    for callee in self.func.infer(context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 325, in raise_if_nothing_inferred
    for node in func(*args, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 156, in infer_attribute
    for owner in self.expr.infer(context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 99, in _infer_stmts
    for inferred in stmt.infer(context=context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 121, in infer_import
    yield self.do_import_module(self.real_name(name))
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/mixins.py", line 129, in do_import_module
    relative_only=level and level >= 1)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/scoped_nodes.py", line 492, in import_module
    return MANAGER.ast_from_module_name(absmodname)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/manager.py", line 136, in ast_from_module_name
    return self.ast_from_file(filepath, modname, fallback=False)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/manager.py", line 86, in ast_from_file
    return AstroidBuilder(self).file_build(filepath, modname)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/builder.py", line 142, in file_build
    return self._post_build(module, encoding)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/builder.py", line 162, in _post_build
    self.delayed_assattr(delayed)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/builder.py", line 219, in delayed_assattr
    for inferred in node.expr.infer():
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 99, in _infer_stmts
    for inferred in stmt.infer(context=context):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/context.py", line 49, in cache_generator
    for result in generator:
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/bases.py", line 302, in wrapped
    for res in _func(node, context, **kwargs):
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/inference.py", line 146, in infer_import_from
    stmts = module.getattr(name, ignore_locals=module is self.root())
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/scoped_nodes.py", line 92, in decorator
    nodes = [n for n in func(*args, **kwargs) if not isinstance(n, cls)]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/scoped_nodes.py", line 434, in getattr
    return [self.import_module(name, relative_only=True)]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/scoped_nodes.py", line 492, in import_module
    return MANAGER.ast_from_module_name(absmodname)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/manager.py", line 136, in ast_from_module_name
    return self.ast_from_file(filepath, modname, fallback=False)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/manager.py", line 86, in ast_from_file
    return AstroidBuilder(self).file_build(filepath, modname)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/builder.py", line 141, in file_build
    module = self._data_build(data, modname, path)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/builder.py", line 185, in _data_build
    module = builder.visit_module(node, modname, node_file, package)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 154, in visit_module
    newnode.body = [self.visit(child, newnode) for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 154, in <listcomp>
    newnode.body = [self.visit(child, newnode) for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 167, in visit
    return visit_method(node, parent, assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 543, in visit_functiondef
    assign_ctx=assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 528, in _visit_functiondef
    for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 528, in <listcomp>
    for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 167, in visit
    return visit_method(node, parent, assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 589, in visit_if
    for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 589, in <listcomp>
    for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 167, in visit
    return visit_method(node, parent, assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 589, in visit_if
    for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 589, in <listcomp>
    for child in node.body]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 167, in visit
    return visit_method(node, parent, assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 447, in visit_expr
    newnode.value = self.visit(node.value, newnode, assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 167, in visit
    return visit_method(node, parent, assign_ctx)
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 315, in visit_call
    for child in node.args]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 315, in <listcomp>
    for child in node.args]
  File "/Users/jdevelvis/Development/home-assistant/.tox/lint/lib/python3.6/site-packages/astroid/rebuilder.py", line 165, in visit
    visit_method = getattr(self, visit_name)
AttributeError: 'TreeRebuilder3k' object has no attribute 'visit_joinedstr'
ERROR: InvocationError: '/Users/jdevelvis/Development/home-assistant/.tox/lint/bin/pylint homeassistant'
lint runtests: commands[2] | pydocstyle homeassistant tests
requirements inst-nodeps: /Users/jdevelvis/Development/home-assistant/.tox/dist/homeassistant-0.39.0.dev0.zip
requirements installed: aiohttp==1.3.1,appdirs==1.4.0,async-timeout==1.1.0,chardet==2.3.0,homeassistant==0.39.0.dev0,Jinja2==2.9.5,MarkupSafe==0.23,multidict==2.1.4,packaging==16.8,pyparsing==2.1.10,pytz==2016.10,PyYAML==3.12,requests==2.13.0,six==1.10.0,typing==3.5.3.0,voluptuous==0.9.3,yarl==0.9.8
requirements runtests: PYTHONHASHSEED='3175051681'
requirements runtests: commands[0] | python script/gen_requirements_all.py validate
typing inst-nodeps: /Users/jdevelvis/Development/home-assistant/.tox/dist/homeassistant-0.39.0.dev0.zip
typing installed: aiohttp==1.3.1,appdirs==1.4.0,astroid==1.4.9,async-timeout==1.1.0,asynctest==0.10.0,chardet==2.3.0,coverage==4.3.4,coveralls==1.1,docopt==0.6.2,flake8==3.2.1,flake8-docstrings==1.0.2,homeassistant==0.39.0.dev0,isort==4.2.5,Jinja2==2.9.5,lazy-object-proxy==1.2.2,MarkupSafe==0.23,mccabe==0.5.3,mock-open==1.3.1,multidict==2.1.4,mypy-lang==0.4.5,packaging==16.8,py==1.4.32,pycodestyle==2.2.0,pydocstyle==1.1.1,pyflakes==1.3.0,pylint==1.6.4,pyparsing==2.1.10,pytest==3.0.6,pytest-aiohttp==0.1.3,pytest-asyncio==0.5.0,pytest-catchlog==1.2.2,pytest-cov==2.4.0,pytest-sugar==0.8.0,pytest-timeout==1.2.0,pytz==2016.10,PyYAML==3.12,requests==2.13.0,requests-mock==1.3.0,six==1.10.0,termcolor==1.1.0,typing==3.5.3.0,voluptuous==0.9.3,wrapt==1.10.8,yarl==0.9.8
typing runtests: PYTHONHASHSEED='3175051681'
typing runtests: commands[0] | mypy --silent-imports homeassistant
homeassistant/components/zwave/const.py:153: error: Need type annotation for variable
homeassistant/components/zwave/const.py:156: error: Need type annotation for variable
homeassistant/components/zwave/const.py:157: error: Need type annotation for variable
homeassistant/components/zwave/const.py:297: error: Need type annotation for variable
homeassistant/components/zwave/const.py:301: error: Need type annotation for variable
homeassistant/scripts/influxdb_migrator.py: note: In function "run":
homeassistant/scripts/influxdb_migrator.py:141: error: Need type annotation for variable
homeassistant/util/dt.py: note: In function "get_time_zone":
homeassistant/util/dt.py:45: error: "module" has no attribute "exceptions"
homeassistant/util/dt.py: note: In function "as_utc":
homeassistant/util/dt.py:67: error: "tzinfo" has no attribute "localize"
homeassistant/util/dt.py: note: In function "as_local":
homeassistant/util/dt.py:88: error: "tzinfo" has no attribute "localize"
homeassistant/util/dt.py: note: In function "start_of_local_day":
homeassistant/util/dt.py:105: error: "tzinfo" has no attribute "localize"
homeassistant/util/yaml.py: note: In function "_load_secret_yaml":
homeassistant/util/yaml.py:218: error: No overload variant of "__getitem__" of "list" matches argument types [builtins.str]
homeassistant/util/yaml.py:224: error: Argument 1 to "__delitem__" of "list" has incompatible type "str"; expected "Union[int, slice]"
homeassistant/util/yaml.py:228: error: Incompatible return value type (got "Union[List[Any], Dict[Any, Any]]", expected Dict[Any, Any])
homeassistant/util/package.py: note: In function "check_package_exists":
homeassistant/util/package.py:62: error: Iterable expected
homeassistant/util/async.py: note: At top level:
homeassistant/util/async.py:10: error: Module 'asyncio' has no attribute 'ensure_future'
homeassistant/util/async.py:14: error: Module 'asyncio' has no attribute 'async'
homeassistant/util/logging.py: note: In class "AsyncHandler":
homeassistant/util/logging.py:118: error: Callable[[Any], Any] has no attribute "setter"
homeassistant/core.py: note: In function "callback":
homeassistant/core.py:73: error: Callable[..., None] has no attribute "_hass_callback"
homeassistant/core.py: note: In member "stop" of class "HomeAssistant":
homeassistant/core.py:272: error: "async_stop" of "HomeAssistant" does not return a value
homeassistant/core.py: note: In member "async_stop" of class "HomeAssistant":
homeassistant/core.py:275: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/core.py: note: In member "__init__" of class "EventBus":
homeassistant/core.py:357: error: Need type annotation for variable
homeassistant/core.py: note: In member "async_fire" of class "EventBus":
homeassistant/core.py:392: error: Cannot determine type of '_listeners'
homeassistant/core.py:396: error: Cannot determine type of '_listeners'
homeassistant/loader.py: note: In function "prepare":
homeassistant/loader.py:56: error: "module" has no attribute "__path__"
homeassistant/helpers/config_validation.py: note: At top level:
homeassistant/helpers/config_validation.py:496: error: Cannot determine type of 'CONDITION_SCHEMA'
homeassistant/helpers/config_validation.py:505: error: Cannot determine type of 'CONDITION_SCHEMA'
homeassistant/helpers/entity.py: note: In member "remove" of class "Entity":
homeassistant/helpers/entity.py:292: error: "async_remove" of "Entity" does not return a value
homeassistant/components/zoneminder.py: note: In function "setup":
homeassistant/components/zoneminder.py:26: error: Need type annotation for variable
homeassistant/components/rfxtrx.py: note: In function "handle_receive":
homeassistant/components/rfxtrx.py:48: error: Need type annotation for variable
homeassistant/components/rfxtrx.py: note: At top level:
homeassistant/components/rfxtrx.py:48: error: Need type annotation for variable
homeassistant/components/rfxtrx.py: note: In function "get_devices_from_config":
homeassistant/components/rfxtrx.py:49: error: Need type annotation for variable
homeassistant/components/rflink.py: note: In class "RflinkDevice":
homeassistant/components/rflink.py:212: error: Need type annotation for variable
homeassistant/components/rflink.py: note: In class "RflinkCommand":
homeassistant/components/rflink.py:295: error: Need type annotation for variable
homeassistant/components/rflink.py:297: error: Need type annotation for variable
homeassistant/components/knx.py: note: In class "KNXMultiAddressDevice":
homeassistant/components/knx.py:216: error: Need type annotation for variable
homeassistant/components/knx.py:217: error: Need type annotation for variable
homeassistant/helpers/script.py: note: In member "__init__" of class "Script":
homeassistant/helpers/script.py:50: error: Need type annotation for variable
homeassistant/helpers/script.py:51: error: Need type annotation for variable
homeassistant/helpers/script.py:54: error: Need type annotation for variable
homeassistant/helpers/script.py:55: error: Need type annotation for variable
homeassistant/helpers/script.py:56: error: Need type annotation for variable
homeassistant/helpers/script.py: note: In member "async_run" of class "Script":
homeassistant/helpers/script.py:69: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/helpers/script.py:108: error: Cannot determine type of '_async_listener'
homeassistant/helpers/script.py:131: error: Cannot determine type of '_async_listener'
homeassistant/components/pilight.py: note: In member "__init__" of class "CallRateDelayThrottle":
homeassistant/components/pilight.py:135: error: The return type of "__init__" must be None
homeassistant/components/pilight.py:138: error: Need type annotation for variable
homeassistant/components/alert.py: note: In class "Alert":
homeassistant/components/alert.py:259: error: Signature of "async_turn_on" incompatible with supertype "ToggleEntity"
homeassistant/components/alert.py:266: error: Signature of "async_turn_off" incompatible with supertype "ToggleEntity"
homeassistant/bootstrap.py: note: In function "_async_persistent_notification":
homeassistant/bootstrap.py:37: error: Need type annotation for variable
homeassistant/bootstrap.py: note: In function "async_setup_component":
homeassistant/bootstrap.py:49: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/bootstrap.py:73: error: "yield from" can't be applied to "bool"
homeassistant/bootstrap.py: note: In function "_async_setup_component":
homeassistant/bootstrap.py:102: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/bootstrap.py:150: error: "ModuleType" has no attribute "async_setup"
homeassistant/bootstrap.py:153: error: "ModuleType" has no attribute "setup"
homeassistant/bootstrap.py:170: error: "ModuleType" has no attribute "DOMAIN"
homeassistant/bootstrap.py:173: error: "ModuleType" has no attribute "DOMAIN"
homeassistant/bootstrap.py: note: In function "async_prepare_setup_component":
homeassistant/bootstrap.py:211: error: "ModuleType" has no attribute "CONFIG_SCHEMA"
homeassistant/bootstrap.py:221: error: "ModuleType" has no attribute "PLATFORM_SCHEMA"
homeassistant/bootstrap.py:233: error: "yield from" can't be applied to "ModuleType"
homeassistant/bootstrap.py: note: In function "async_prepare_setup_platform":
homeassistant/bootstrap.py:276: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/bootstrap.py: note: In function "from_config_dict":
homeassistant/bootstrap.py:350: error: Need type annotation for variable
homeassistant/bootstrap.py: note: In function "async_from_config_dict":
homeassistant/bootstrap.py:358: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/bootstrap.py:407: error: Need type annotation for variable
homeassistant/bootstrap.py:433: error: Argument 1 to "load_order_components" has incompatible type Set[str]; expected Sequence[str]
homeassistant/bootstrap.py: note: In function "from_config_file":
homeassistant/bootstrap.py:468: error: Need type annotation for variable
homeassistant/bootstrap.py: note: In function "async_enable_logging":
homeassistant/bootstrap.py:555: error: Incompatible types in assignment (expression has type "FileHandler", variable has type "TimedRotatingFileHandler")
homeassistant/bootstrap.py:573: error: Argument 1 to "addHandler" of "Logger" has incompatible type "AsyncHandler"; expected "Handler"
homeassistant/remote.py: note: In member "__init__" of class "API":
homeassistant/remote.py:74: error: Need type annotation for variable
homeassistant/scripts/check_config.py: note: At top level:
homeassistant/scripts/check_config.py:20: error: Result type of + incompatible in assignment
homeassistant/scripts/check_config.py: note: In function "run":
homeassistant/scripts/check_config.py:95: error: Need type annotation for variable
homeassistant/scripts/check_config.py:133: error: Need type annotation for variable
homeassistant/__main__.py: note: In function "setup_and_run_hass":
homeassistant/__main__.py:281: error: Need type annotation for variable
homeassistant/components/wink.py: note: At top level:
homeassistant/components/wink.py:22: error: Need type annotation for variable
homeassistant/components/wink.py:26: error: Need type annotation for variable
homeassistant/components/vera.py:37: error: Need type annotation for variable
homeassistant/components/tellstick.py:34: error: Need type annotation for variable
homeassistant/components/nest.py: note: In function "request_configuration":
homeassistant/components/nest.py:19: error: Need type annotation for variable
homeassistant/components/isy994.py: note: In function "_categorize_nodes":
homeassistant/components/isy994.py:50: error: Need type annotation for variable
homeassistant/components/isy994.py: note: In function "_categorize_weather":
homeassistant/components/isy994.py:51: error: Need type annotation for variable
homeassistant/components/isy994.py: note: At top level:
homeassistant/components/isy994.py:51: error: Need type annotation for variable
homeassistant/components/isy994.py: note: In function "_categorize_nodes":
homeassistant/components/isy994.py:52: error: Need type annotation for variable
homeassistant/components/isy994.py:53: error: Need type annotation for variable
homeassistant/components/isy994.py: note: In function "_categorize_programs":
homeassistant/components/isy994.py:54: error: Need type annotation for variable
homeassistant/components/isy994.py: note: At top level:
homeassistant/components/isy994.py:54: error: Need type annotation for variable
homeassistant/components/isy994.py:64: error: List literal expected as the second argument to namedtuple()
homeassistant/components/isy994.py: note: In function "_categorize_nodes":
homeassistant/components/isy994.py:102: error: None has no attribute "nodes"
homeassistant/components/isy994.py:108: error: None has no attribute "Nodes"
homeassistant/components/isy994.py:110: error: None has no attribute "Nodes"
homeassistant/components/isy994.py: note: In function "_categorize_programs":
homeassistant/components/isy994.py:122: error: None has no attribute "programs"
homeassistant/components/isy994.py: note: In function "_categorize_weather":
homeassistant/components/isy994.py:144: error: None has no attribute "climate"
homeassistant/components/isy994.py:145: error: Too many arguments for "namedtuple"
homeassistant/components/isy994.py:145: error: None has no attribute "climate"
homeassistant/components/isy994.py:146: error: None has no attribute "climate"
homeassistant/components/isy994.py: note: In class "ISYDevice":
homeassistant/components/isy994.py:220: error: Need type annotation for variable
homeassistant/components/insteon_hub.py: note: At top level:
homeassistant/components/insteon_hub.py:20: error: Need type annotation for variable
homeassistant/components/ecobee.py: note: In function "request_configuration":
homeassistant/components/ecobee.py:23: error: Need type annotation for variable
homeassistant/components/sensor/arwn.py: note: In function "sensor_event_received":
homeassistant/components/sensor/arwn.py:20: error: Need type annotation for variable
homeassistant/components/notify/__init__.py: note: In class "BaseNotificationService":
homeassistant/components/notify/__init__.py:180: error: Need type annotation for variable
homeassistant/components/http/__init__.py: note: In class "HomeAssistantView":
homeassistant/components/http/__init__.py:350: error: Need type annotation for variable
homeassistant/components/http/__init__.py:351: error: Need type annotation for variable
homeassistant/components/wemo.py: note: In function "discovery_dispatch":
homeassistant/components/wemo.py:33: error: Need type annotation for variable
homeassistant/components/ios.py: note: At top level:
homeassistant/components/ios.py:167: error: Need type annotation for variable
homeassistant/components/weather/__init__.py:19: error: Need type annotation for variable
homeassistant/components/sensor/isy994.py: note: In function "setup_platform":
homeassistant/components/sensor/isy994.py:255: error: Argument 1 to "append" of "list" has incompatible type "ISYWeatherDevice"; expected "ISYSensorDevice"
homeassistant/components/sensor/isy994.py: note: In member "state" of class "ISYSensorDevice":
homeassistant/components/sensor/isy994.py:289: error: Argument 1 to "get" of "dict" has incompatible type "object"; expected "str"
homeassistant/components/sensor/isy994.py:303: error: Incompatible return value type (got "object", expected "str")
homeassistant/components/sensor/isy994.py: note: In class "ISYWeatherDevice":
homeassistant/components/sensor/isy994.py:341: error: Return type of "state" incompatible with supertype "Entity"
homeassistant/components/recorder/__init__.py: note: In function "query":
homeassistant/components/recorder/__init__.py:160: error: None not callable
homeassistant/components/recorder/__init__.py:161: error: None not callable
homeassistant/components/notify/rest.py: note: At top level:
homeassistant/components/notify/rest.py:23: error: Need type annotation for variable
homeassistant/components/notify/rest.py:24: error: Need type annotation for variable
homeassistant/components/notify/matrix.py: note: In function "get_service":
homeassistant/components/notify/matrix.py:21: error: Need type annotation for variable
homeassistant/components/media_player/__init__.py: note: In class "MediaPlayerDevice":
homeassistant/components/media_player/__init__.py:393: error: Need type annotation for variable
homeassistant/components/media_player/__init__.py: note: At top level:
homeassistant/components/media_player/__init__.py:542: error: Decorated property not supported
homeassistant/components/calendar/__init__.py: note: In class "CalendarEventDevice":
homeassistant/components/calendar/__init__.py:50: error: Need type annotation for variable
homeassistant/components/binary_sensor/__init__.py: note: At top level:
homeassistant/components/binary_sensor/__init__.py:68: error: Decorated property not supported
homeassistant/components/tts/__init__.py: note: In class "Provider":
homeassistant/components/tts/__init__.py:460: error: Need type annotation for variable
homeassistant/components/tts/__init__.py:461: error: Need type annotation for variable
homeassistant/components/sensor/tcp.py: note: In class "TcpSensor":
homeassistant/components/sensor/tcp.py:52: error: Need type annotation for variable
homeassistant/components/sensor/fitbit.py: note: In function "fitbit_configuration_callback":
homeassistant/components/sensor/fitbit.py:25: error: Need type annotation for variable
homeassistant/components/sensor/dsmr.py: note: In class "DerivativeDSMREntity":
homeassistant/components/sensor/dsmr.py:240: error: Need type annotation for variable
homeassistant/components/sensor/dsmr.py:241: error: Need type annotation for variable
homeassistant/components/media_player/universal.py: note: At top level:
homeassistant/components/media_player/universal.py:48: error: Need type annotation for variable
homeassistant/components/media_player/squeezebox.py: note: In function "async_setup_platform":
homeassistant/components/media_player/squeezebox.py:32: error: Need type annotation for variable
homeassistant/components/media_player/roku.py: note: In function "setup_platform":
homeassistant/components/media_player/roku.py:24: error: Need type annotation for variable
homeassistant/components/media_player/plex.py:31: error: Need type annotation for variable
homeassistant/components/media_player/plex.py: note: In function "setup_plexserver":
homeassistant/components/media_player/plex.py:31: error: Need type annotation for variable
homeassistant/components/media_player/plex.py: note: In function "request_configuration":
homeassistant/components/media_player/plex.py:31: error: Need type annotation for variable
homeassistant/components/media_player/pioneer.py: note: At top level:
homeassistant/components/media_player/pioneer.py:25: error: Need type annotation for variable
homeassistant/components/media_player/gpmdp.py: note: In function "request_configuration":
homeassistant/components/media_player/gpmdp.py:26: error: Need type annotation for variable
homeassistant/components/media_player/directv.py: note: In function "setup_platform":
homeassistant/components/media_player/directv.py:27: error: Need type annotation for variable
homeassistant/components/media_player/denonavr.py: note: At top level:
homeassistant/components/media_player/denonavr.py:26: error: Need type annotation for variable
homeassistant/components/media_player/cast.py: note: In function "setup_platform":
homeassistant/components/media_player/cast.py:36: error: Need type annotation for variable
homeassistant/components/media_player/braviatv.py: note: In function "setup_bravia":
homeassistant/components/media_player/braviatv.py:36: error: Need type annotation for variable
homeassistant/components/media_player/braviatv.py: note: In function "request_configuration":
homeassistant/components/media_player/braviatv.py:36: error: Need type annotation for variable
homeassistant/components/device_tracker/__init__.py: note: In function "async_setup":
homeassistant/components/device_tracker/__init__.py:184: error: Argument 1 to "wait" has incompatible type List[AwaitableGenerator[Any, Any, Any, Any]]; expected List[Task[None]]
homeassistant/components/device_tracker/__init__.py: note: In member "__init__" of class "Device":
homeassistant/components/device_tracker/__init__.py:401: error: Need type annotation for variable
homeassistant/components/device_tracker/__init__.py:403: error: Need type annotation for variable
homeassistant/components/device_tracker/__init__.py: note: In member "async_seen" of class "Device":
homeassistant/components/device_tracker/__init__.py:460: error: Cannot determine type of '_attributes'
homeassistant/components/device_tracker/__init__.py: note: In function "update_config":
homeassistant/components/device_tracker/__init__.py:696: error: Incompatible types in assignment (expression has type Dict[str, Dict[str, Any]], variable has type "Device")
homeassistant/components/device_tracker/__init__.py:705: error: Argument 1 to "dump" has incompatible type "Device"; expected Dict[Any, Any]
homeassistant/components/climate/ecobee.py: note: At top level:
homeassistant/components/climate/ecobee.py:21: error: Need type annotation for variable
homeassistant/components/binary_sensor/zwave.py:18: error: Need type annotation for variable
homeassistant/components/binary_sensor/mysensors.py:15: error: Need type annotation for variable
homeassistant/components/alarm_control_panel/envisalink.py: note: In function "alarm_keypress_handler":
homeassistant/components/alarm_control_panel/envisalink.py:25: error: Need type annotation for variable
homeassistant/components/hdmi_cec.py: note: At top level:
homeassistant/components/hdmi_cec.py:51: error: Need type annotation for variable
homeassistant/components/hdmi_cec.py:115: error: Cannot determine type of 'DEVICE_SCHEMA'
homeassistant/components/hdmi_cec.py: note: In function "setup":
homeassistant/components/hdmi_cec.py:169: error: Need type annotation for variable
homeassistant/components/hdmi_cec.py: note: In function "_select_device":
homeassistant/components/hdmi_cec.py:169: error: Need type annotation for variable
homeassistant/components/hdmi_cec.py: note: In function "setup":
homeassistant/components/hdmi_cec.py:169: error: Need type annotation for variable
homeassistant/components/hdmi_cec.py: note: In member "__init__" of class "CecDevice":
homeassistant/components/hdmi_cec.py:332: error: The return type of "__init__" must be None
homeassistant/components/hdmi_cec.py:336: error: Need type annotation for variable
homeassistant/components/switch/pulseaudio_loopback.py: note: In function "setup_platform":
homeassistant/components/switch/pulseaudio_loopback.py:20: error: Need type annotation for variable
homeassistant/components/switch/netio.py:38: error: Need type annotation for variable
homeassistant/components/switch/mysensors.py: note: At top level:
homeassistant/components/switch/mysensors.py:19: error: Need type annotation for variable
homeassistant/components/switch/insteon_local.py: note: In function "request_configuration":
homeassistant/components/switch/insteon_local.py:16: error: Need type annotation for variable
homeassistant/components/switch/hook.py: note: In class "HookSmartHome":
homeassistant/components/switch/hook.py:136: error: Signature of "async_turn_on" incompatible with supertype "ToggleEntity"
homeassistant/components/switch/hook.py:145: error: Signature of "async_turn_off" incompatible with supertype "ToggleEntity"
homeassistant/components/remote/harmony.py: note: In function "setup_platform":
homeassistant/components/remote/harmony.py:27: error: Need type annotation for variable
homeassistant/components/remote/harmony.py: note: In function "_apply_service":
homeassistant/components/remote/harmony.py:27: error: Need type annotation for variable
homeassistant/components/remote/harmony.py: note: At top level:
homeassistant/components/remote/harmony.py:27: error: Need type annotation for variable
homeassistant/components/lock/isy994.py: note: In member "state" of class "ISYLockDevice":
homeassistant/components/lock/isy994.py:69: error: Argument 1 to "get" of "dict" has incompatible type "object"; expected "int"
homeassistant/components/light/yeelight.py: note: In member "_properties" of class "YeelightLight":
homeassistant/components/light/yeelight.py:172: error: "object" has no attribute "last_properties"
homeassistant/components/light/yeelight.py: note: In member "set_music_mode" of class "YeelightLight":
homeassistant/components/light/yeelight.py:196: error: "object" has no attribute "start_music"
homeassistant/components/light/yeelight.py:198: error: "object" has no attribute "stop_music"
homeassistant/components/light/yeelight.py: note: In member "update" of class "YeelightLight":
homeassistant/components/light/yeelight.py:204: error: "object" has no attribute "get_properties"
homeassistant/components/light/yeelight.py: note: In member "set_brightness" of class "YeelightLight":
homeassistant/components/light/yeelight.py:229: error: "object" has no attribute "set_brightness"
homeassistant/components/light/yeelight.py: note: In member "set_rgb" of class "YeelightLight":
homeassistant/components/light/yeelight.py:237: error: "object" has no attribute "set_rgb"
homeassistant/components/light/yeelight.py: note: In member "set_colortemp" of class "YeelightLight":
homeassistant/components/light/yeelight.py:246: error: "object" has no attribute "set_color_temp"
homeassistant/components/light/yeelight.py: note: In member "set_default" of class "YeelightLight":
homeassistant/components/light/yeelight.py:251: error: "object" has no attribute "set_default"
homeassistant/components/light/yeelight.py: note: In member "set_flash" of class "YeelightLight":
homeassistant/components/light/yeelight.py:258: error: "object" has no attribute "last_properties"
homeassistant/components/light/yeelight.py:282: error: "object" has no attribute "start_flow"
homeassistant/components/light/yeelight.py: note: In member "turn_on" of class "YeelightLight":
homeassistant/components/light/yeelight.py:295: error: "object" has no attribute "turn_on"
homeassistant/components/light/yeelight.py:297: error: "object" has no attribute "music_mode"
homeassistant/components/light/yeelight.py: note: In member "turn_off" of class "YeelightLight":
homeassistant/components/light/yeelight.py:313: error: "object" has no attribute "turn_off"
homeassistant/components/light/isy994.py: note: In member "is_on" of class "ISYLightDevice":
homeassistant/components/light/isy994.py:50: error: Unsupported operand types for < ("int" and "object")
homeassistant/components/light/isy994.py: note: In member "brightness" of class "ISYLightDevice":
homeassistant/components/light/isy994.py:55: error: Incompatible return value type (got "object", expected "float")
homeassistant/components/light/insteon_local.py: note: In function "request_configuration":
homeassistant/components/light/insteon_local.py:17: error: Need type annotation for variable
homeassistant/components/fan/mqtt.py: note: In class "MqttFan":
homeassistant/components/fan/mqtt.py:238: error: Signature of "turn_on" incompatible with supertype "FanEntity"
homeassistant/components/fan/mqtt.py:245: error: Signature of "turn_off" incompatible with supertype "ToggleEntity"
homeassistant/components/fan/isy994.py: note: In member "state" of class "ISYFanDevice":
homeassistant/components/fan/isy994.py:76: error: Argument 1 to "get" of "dict" has incompatible type "object"; expected "int"
homeassistant/components/fan/isy994.py: note: In member "set_speed" of class "ISYFanDevice":
homeassistant/components/fan/isy994.py:83: error: Property "speed" defined in "ISYFanDevice" is read-only
homeassistant/components/fan/isy994.py: note: In member "turn_off" of class "ISYFanDevice":
homeassistant/components/fan/isy994.py:94: error: Property "speed" defined in "ISYFanDevice" is read-only
homeassistant/components/fan/isy994.py: note: In member "__init__" of class "ISYFanProgram":
homeassistant/components/fan/isy994.py:105: error: Property "speed" defined in "ISYFanProgram" is read-only
homeassistant/components/fan/isy994.py: note: In member "turn_off" of class "ISYFanProgram":
homeassistant/components/fan/isy994.py:117: error: Property "speed" defined in "ISYFanProgram" is read-only
homeassistant/components/fan/isy994.py: note: In class "ISYFanProgram":
homeassistant/components/fan/isy994.py:119: error: Signature of "turn_on" incompatible with supertype "ISYFanDevice"
homeassistant/components/fan/isy994.py:119: error: Signature of "turn_on" incompatible with supertype "FanEntity"
homeassistant/components/fan/isy994.py: note: In member "turn_on" of class "ISYFanProgram":
homeassistant/components/fan/isy994.py:124: error: Property "speed" defined in "ISYFanProgram" is read-only
homeassistant/components/fan/demo.py: note: In class "DemoFan":
homeassistant/components/fan/demo.py:59: error: Signature of "turn_on" incompatible with supertype "FanEntity"
homeassistant/components/fan/demo.py:65: error: Signature of "turn_off" incompatible with supertype "ToggleEntity"
homeassistant/components/device_tracker/ping.py: note: At top level:
homeassistant/components/device_tracker/ping.py:28: error: Need type annotation for variable
homeassistant/components/device_tracker/owntracks.py:40: error: Need type annotation for variable
homeassistant/components/device_tracker/owntracks.py:42: error: Need type annotation for variable
homeassistant/components/device_tracker/nmap_tracker.py: note: In class "NmapDeviceScanner":
homeassistant/components/device_tracker/nmap_tracker.py:70: error: Need type annotation for variable
homeassistant/components/device_tracker/icloud.py: note: In member "icloud_trusted_device_callback" of class "Icloud":
homeassistant/components/device_tracker/icloud.py:43: error: Need type annotation for variable
homeassistant/components/device_tracker/icloud.py: note: In member "icloud_need_trusted_device" of class "Icloud":
homeassistant/components/device_tracker/icloud.py:43: error: Need type annotation for variable
homeassistant/components/device_tracker/automatic.py: note: In member "__init__" of class "AutomaticDeviceScanner":
homeassistant/components/device_tracker/automatic.py:78: error: Need type annotation for variable
homeassistant/components/device_tracker/automatic.py:80: error: Need type annotation for variable
homeassistant/components/device_tracker/automatic.py:81: error: Need type annotation for variable
homeassistant/components/device_tracker/automatic.py: note: In member "_update_info" of class "AutomaticDeviceScanner":
homeassistant/components/device_tracker/automatic.py:116: error: Cannot determine type of 'last_results'
homeassistant/components/device_tracker/automatic.py:126: error: Cannot determine type of 'last_trips'
homeassistant/components/device_tracker/automatic.py:127: error: Cannot determine type of 'last_trips'
homeassistant/components/device_tracker/automatic.py:128: error: Cannot determine type of 'last_trips'
homeassistant/components/device_tracker/automatic.py:130: error: Cannot determine type of 'last_trips'
homeassistant/components/device_tracker/automatic.py:132: error: Cannot determine type of 'last_results'
homeassistant/components/device_tracker/automatic.py:147: error: Cannot determine type of 'last_trips'
homeassistant/components/device_tracker/automatic.py:148: error: Cannot determine type of 'last_trips'
homeassistant/components/cover/mysensors.py: note: At top level:
homeassistant/components/cover/mysensors.py:14: error: Need type annotation for variable
homeassistant/components/cover/isy994.py: note: In member "__init__" of class "ISYCoverDevice":
homeassistant/components/cover/isy994.py:57: error: The return type of "__init__" must be None
homeassistant/components/cover/isy994.py: note: In member "current_cover_position" of class "ISYCoverDevice":
homeassistant/components/cover/isy994.py:64: error: Incompatible return value type (got "object", expected "int")
homeassistant/components/cover/isy994.py: note: In member "state" of class "ISYCoverDevice":
homeassistant/components/cover/isy994.py:74: error: Argument 1 to "get" of "dict" has incompatible type "object"; expected "int"
homeassistant/components/cover/isy994.py: note: In member "open_cover" of class "ISYCoverProgram":
homeassistant/components/cover/isy994.py:103: error: "object" has no attribute "runThen"
homeassistant/components/cover/isy994.py: note: In member "close_cover" of class "ISYCoverProgram":
homeassistant/components/cover/isy994.py:108: error: "object" has no attribute "runElse"
homeassistant/components/switch/hdmi_cec.py: note: In member "__init__" of class "CecSwitchDevice":
homeassistant/components/switch/hdmi_cec.py:33: error: The return type of "__init__" must be None
homeassistant/components/media_player/hdmi_cec.py: note: In member "__init__" of class "CecPlayerDevice":
homeassistant/components/media_player/hdmi_cec.py:37: error: The return type of "__init__" must be None
homeassistant/components/api.py: note: In class "APIEventForwardingView":
homeassistant/components/api.py:325: error: Need type annotation for variable
homeassistant/components/light/hue.py: note: In function "setup_platform":
homeassistant/components/light/hue.py:34: error: Need type annotation for variable
homeassistant/components/light/hue.py:36: error: Need type annotation for variable
homeassistant/components/light/hue.py: note: In function "setup_bridge":
homeassistant/components/light/hue.py:36: error: Need type annotation for variable
homeassistant/components/light/hue.py: note: In function "request_configuration":
homeassistant/components/light/hue.py:36: error: Need type annotation for variable
homeassistant/components/frontend/__init__.py: note: At top level:
homeassistant/components/frontend/__init__.py:37: error: Sequence[str] has no attribute "append"
homeassistant/components/frontend/__init__.py: note: In function "register_panel":
homeassistant/components/frontend/__init__.py:47: error: Need type annotation for variable
homeassistant/components/automation/__init__.py: note: In member "async_turn_on" of class "AutomationEntity":
homeassistant/components/automation/__init__.py:268: error: The return type of a generator function should be "Generator" or one of its supertypes
homeassistant/components/automation/__init__.py: note: In member "async_turn_off" of class "AutomationEntity":
homeassistant/components/automation/__init__.py:277: error: The return type of a generator function should be "Generator" or one of its supertypes
ERROR: InvocationError: '/Users/jdevelvis/Development/home-assistant/.tox/typing/bin/mypy --silent-imports homeassistant'
___________________________________ summary ____________________________________
SKIPPED:  py34: InterpreterNotFound: python3.4
SKIPPED:  py35: InterpreterNotFound: python3.5
ERROR:   py36: commands failed
ERROR:   lint: commands failed
  requirements: commands succeeded
ERROR:   typing: commands failed
