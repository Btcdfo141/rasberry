<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../components/camera-image-event.html">

<polymer-element name="camera-image-events" attributes="cameraImageEvents">
<template>
	<style>
		:host .camera-event-thumb {
			width: calc(95%);
			display:inline;
		}
		:host .camera-event-list-item {
			width: calc(33%);
			display:inline;
		}

		:host .camera-event-list {
			width: calc(100%%);
		}
	</style>
	<camera-image-event cameraImageEvent="{{selectedCameraImageEvent}}" hidden?="{{!selectedCameraImageEvent}}"></camera-image-event>
	<div class='camera-image-events' hidden?="{{selectedCameraImageEvent}}">
		<!--<div horizontal layout center>-->
		<div class='camera-event-list' layout horizontal wrap>
			<template repeat="{{cameraImageEvent, cameraImageEventIndex in cameraImageEvents}}" id='camera_event_list'>
		      	<div class='camera-event-list-item'>
		      		<!--<camera-event-thumb on-cameraeventselected='selectCameraImageEvent' cameraImageEvent="{{cameraImageEvent}}" ></camera-event-thumb>-->
		      		<img class='camera-event-thumb' src="{{cameraImageEvent.thumbUrl}}" data-item='{{cameraImageEventIndex}}' on-click='{{selectCameraImageEvent}}' />
			      	<div class='camera-event-time'>
			      		{{cameraImageEvent.time}}
			      	</div>
		     	</div>
			</template>
		</div>
	</div>

</template>
<script>
  var storeListenerMixIn = window.hass.storeListenerMixIn;

  Polymer({
    cameraImageEvents: null,
    selectedCameraImageEvent: null,

    selectCameraImageEvent: function(evt, detail, target) {
    	// this.selectedCameraImageEvent = evt.target.attributes['data-item'];
    	// this.selectedCameraImageEvent = evt.target.attributes['data-item'];
    	this.selectedCameraImageEvent = this.cameraImageEvents[evt.target.attributes['data-item'].value];
    }

  });
</script>
</polymer>


